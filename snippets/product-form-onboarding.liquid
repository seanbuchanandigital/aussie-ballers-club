{%- liquid
  assign enable_color_swatches = settings.enable_color_swatches
  assign enable_variant_boxes = settings.enable_variant_boxes
-%}
<div class="product__form product__form--onboarding">
  <div class="variants-wrapper{% unless enable_variant_boxes %} variants-wrapper--grid{% endunless %}">
    {%- if enable_variant_boxes -%}
      {%- if enable_color_swatches -%}
        {%- render 'product-swatch--onboarding', index: 0 -%}
      {%- else -%}
        <div class="variant-wrapper">
          <label class="variant-label" for="SingleOptionSelector-{{ section.id }}-0">
            {{- 'homepage.onboarding.color' | t -}}
          </label>

          <fieldset
            id="SingleOptionSelector-{{ section.id }}-0"
            class="variant-input-wrap variant-input-wrap--boxes">
            {%- for i in (1..3) -%}
              {%- capture value -%}{%- cycle 'White', 'Grey', 'Black' -%}{%- endcapture -%}
              <div class="variant-field">
                <input
                  id="option-{{ forloop.index0 }}-{{ section.id }}-1"
                  class="visually-hidden variant-input"
                  type="radio"
                  name="color-{{ section.id }}"
                  value="{{ value | escape }}">
                <label class="variant__button-label" for="option-{{ forloop.index0 }}-{{ section.id }}-1">
                  {{- value -}}
                </label>
              </div>
            {%- endfor -%}
          </fieldset>
        </div>
      {%- endif -%}

      <div class="variant-wrapper">
        <label class="variant-label" for="SingleOptionSelector-{{ section.id }}-1">
          {{- 'homepage.onboarding.size' | t -}}
        </label>

        <fieldset
          id="SingleOptionSelector-{{ section.id }}-0"
          class="variant-input-wrap variant-input-wrap--boxes">
          {%- for i in (1..3) -%}
            {%- capture value -%}{%- cycle 'Small', 'Medium', 'Large' -%}{%- endcapture -%}
            <div class="variant-field">
              <input
                id="option-{{ forloop.index0 }}-{{ section.id }}-1"
                class="visually-hidden variant-input"
                type="radio"
                name="size-{{ section.id }}"
                value="{{ value | escape }}">
              <label class="variant__button-label" for="option-{{ forloop.index0 }}-{{ section.id }}-1">
                {{- value -}}
              </label>
            </div>
          {%- endfor -%}
        </fieldset>
      </div>
    {%- else -%}
      {%- if enable_color_swatches -%}
        {%- render 'product-swatch--onboarding', index: 0 -%}
      {%- else -%}
        <div class="selector-wrapper" data-option="option{{ option.position }}">
          <div class="popout" data-popout-option>
            <button type="button" class="popout__toggle popout__toggle--product option__select" aria-expanded="false" aria-controls="lang-list" aria-describedby="lang-heading" data-popout-toggle>
              {{- 'homepage.onboarding.color' | t -}}:
              <span class="popout__toggle-value" data-popout-text>White</span>
              {%- render 'icon-arrow' -%}
            </button>
            <ul id="option-list" class="popout-list popout-list-option popout-list--product" data-popout-list>
              {%- for i in (1..3) -%}
                {%- capture value -%}{%- cycle 'White', 'Grey', 'Black' -%}{%- endcapture -%}
                <li class="popout-list__item {% if option.selected_value == value %}popout-list__item--current{% endif %}">
                  <a class="popout-list__option popout-list__option--product" href="#" {% if option.selected_value == value %}aria-current="true"{% endif %} data-value="{{ value }}" data-popout-option>
                    <span>{{ value | escape  }}</span>
                  </a>
                </li>
              {%- endfor -%}
            </ul>
          </div>
        </div>
      {%- endif -%}

      <div class="selector-wrapper" data-option="option{{ option.position }}">
        <div class="popout" data-popout-option>
          <button type="button" class="popout__toggle popout__toggle--product option__select" aria-expanded="false" aria-controls="lang-list" aria-describedby="lang-heading" data-popout-toggle>
            {{- 'homepage.onboarding.size' | t -}}:
            <span class="popout__toggle-value" data-popout-text>Small</span>
            {%- render 'icon-arrow' -%}
          </button>

          <ul id="option-list" class="popout-list popout-list-option popout-list--product" data-popout-list>
            {%- for i in (1..3) -%}
              {%- capture value -%}{%- cycle 'Small', 'Medium', 'Large' -%}{%- endcapture -%}
              <li class="popout-list__item {% if option.selected_value == value %}popout-list__item--current{% endif %}">
                <a class="popout-list__option popout-list__option--product" href="#" {% if option.selected_value == value %}aria-current="true"{% endif %} data-value="{{ value }}" data-popout-option>
                  <span>{{ value | escape  }}</span>
                </a>
              </li>
            {%- endfor -%}
          </ul>
        </div>
      </div>
    {%- endif -%}

    {%- if settings.show_quantity -%}
      <div class="quantity-wrapper{% if enable_variant_boxes %} quantity-wrapper--half{% endif %}">
        <div class="popout" data-popout-option>
          <button type="button" class="popout__toggle popout__toggle--product option__select" aria-expanded="false" aria-controls="lang-list" aria-describedby="lang-heading" data-popout-toggle data-popout-quantity>
            <span class="quantity__text">{{ 'products.product.quantity' | t }}: </span>

            <span class="popout__toggle-value" data-popout-text data-quantity-select>1</span>

            {%- render 'icon-arrow' -%}
          </button>

          <ul id="option-list" class="popout-list popout-list-option popout-list--product" data-popout-list>
            {% for qty_num in (1..10) %}
              <li class="popout-list__item" data-popout-item>
                <a class="popout-list__option popout-list__option--product" href="#" data-value="{{ qty_num }}" data-popout-option>
                  <span>
                    {%- if qty_num != 10 -%}
                      {{- qty_num -}}
                    {%- else -%}
                      {{- qty_num | append: '+' -}}
                    {%- endif -%}
                  </span>
                </a>
              </li>
            {%- endfor -%}
          </ul>

          <button type="button" class="quantity__btn visually-hidden quantity__btn--decrease" data-quantity-button>
            <span class="visually-hidden">{{ 'general.accessibility.decrease' | t }}</span>
            {%- render 'icon-minus' -%}
          </button>

          <input type="hidden" name="quantity" value="1" min="1" pattern="[0-9]*" class="quantity__selector quantity__input" data-popout-input data-quantity-input/>

          <button type="button" class="quantity__btn visually-hidden quantity__btn--increase" data-quantity-button>
            <span class="visually-hidden">{{ 'general.accessibility.increase' | t }}</span>
            {%- render 'icon-plus' -%}
          </button>
        </div>
      </div>
    {%- endif -%}
  </div>
</div>

<div class="buttons-grid{% if show_payment_button %} buttons-grid--half{% endif %}">
  <button class="btn btn--submit">
    <span id="AddToCartText">{{ 'products.product.add_to_cart' | t }}</span>
  </button>

  {%- if show_payment_button -%}
    <div class="shopify-payment-button">
      <button class="shopify-payment-button__button shopify-payment-button__button--unbranded">{{ 'products.product.buy_it_now' | t }}</button>
    </div>
  {%- endif -%}
</div>